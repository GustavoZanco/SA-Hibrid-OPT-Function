Description: 
The SA hybrid optimization contains the code to apply the optimization technic based on the methodology of the simulated annealing. The search is a collar based approach in searching for the optimal drillhole sampling configuration based on different objective functions. Basically, the method will minimize the uncertainty derived from the sampling modeling, be it so kriged or simulated based, or both in the hybrid approach. The search for the optimum collars is made following the simulated annealing, i.e., with the possibility of acceptance of worse optimums while searching for the best results. In the search methodology the user can choose the domain limits, if the drillhole direction will be optimized too, the value that shall be associated with the samples while optimizing and the cooling schedule, be it slow or fast. To optimize the user shall create a “block data” object that contains the model of the original sampled data, be it kriged or simulated. The block data implements the “drillhole collar maker” that is essential to the optimization. In the code is presented too the 3 basic objective functions that are directly made, i.e., only utilizing one of the model types, kriged or simulated. The hybrid functions are implemented in the optimization algorithm and shall use both of models, with each receiving a weight value. Lastly, a simple algorithm to automatically make optimizations given an array of the collar number that the user desires is presented and a grid search that will make the optimization using a direct approach based on the domain limits and a step defined by the user, made to obtain the best possible drillhole collar (but only one collar per optimization). The sgsimxbin.for contains the code of the sigsim.exe of the Gslib, with the changes made for the proposed research, considerations of the convex hull when simulating nodes and the results be returned in binary format for faster computational time. The user must compile the sgsimxbin.for to attain the .exe file that will be used in the algorithm. The par_templates.py file contains the templates of the parametrization files needed by the Gslib to apply the methods and will create the necessary files to apply the programs automatically.

Requirements:
Python 2.7.10
Gslib files (that shall be present in the folder of the sgsimxbin.exe and kt3d.exe)

Instructions:
First the user must create the block data, that shall be made based on the file that contains the model data obtained after processing the original sampling, that will be infilled. The block data creation must contain the information of the block model origin (lower left position of the first block), the block dimensions, and number of blocks. 
The variogram model shall be informed in similar manner as the Gslib defines. This can be consulted by making a parameter file using the programs or consulting the user’s guide of the Gslib. The model parametrization must be provided as a string.
To apply the optimization the user must call the function and follow the sequence of parameters given in the definition by the algorithm. As an example of how to apply the automatic multiple optimizations the user would use the following line:

auto_mutiple_opt(simulated_annealing, {objective function name}, {block data name}, {number of iterations}, {array of the number of collar each optimization shall make}, {name of the original sampling file as string}, {minimum value of X coordinate}, {minimum value of Y coordinate}, {maximum value of X coordinate}, {maximum value of Y coordinate}, {Z coordinate value of the collars}, {minimum azimuth of the infill drillholes}, {maximum azimuth of the infill drillholes}, {minimum dip of the infill drillholes}, {maximum dip of the infill drillholes}, {barrel length of the infill drillholes}, {total length of the infill drillholes}, {X coordinate column in the original sampling file}, {Y coordinate column in the original sampling file}, {Z coordinate column in the original sampling file}, {data column in the original sampling file}, {minimum data value}, {maximum data value}, {number of realization made when simulating}, {number of blocks in X}, {block model origin in X}, {block size in X}, {number of blocks in Y}, {block model origin in Y}, {block size in Y}, {number of blocks in Z}, {block model origin in Z}, {block size in Z}, {name of the convex hull file as string}, {seed value}, {minimum number of samples to make a estimative or simulation}, {minimum number of samples to make a estimation or simulation}, {maximum number of simulated nodes that can be used as samples while simulating another node}, {1 if using octant data; 0 if not}, {maximum radius of the search ellipsoid}, {minimum radius of the search ellipsoid}, {vertical radius of the search ellipsoid}, {search ellipsoid maximum radius azimuth}, {search ellipsoid maximum radius dip}, {search ellipsoid maximum radius plunge}, {number of nested structures in the variogram model}, {nugget effect value}, {variogram model parameters as string}, {data variable name as string}, {type of value associated to the new samples while optimizing; write as string; can be mean, median, p10 or p90;}, {cooling type, for fast use fast = True, or Fast = False for slow})

If the user will use the hybrid objective functions the variogram models can differ, so the parametrization must take that in account, i.e., the number of nested structures, nugget effect and variogram model parametrization must be provided to each of the models, kriged and simulated. The weight value refers to the kriging portion of the function and shall be summed to 1 whit the simulation weight. If the weight is 1 then only kriging shall be made, therefore, the objective funtion will be only the kriging variance sum. If the weight is 0 (default) the objective function must be either the convex_block_variance or convex_block_CV, and be called in the parametrization.
Lastly, there is a possibility to use the topographic data of the domain to obtain the collars Z coordinates. But the user shall provide the file containing the topography from with each collar shall drawn the Z values. This value will be a mean between the nearest Z values to the new collar position.

